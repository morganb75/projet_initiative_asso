!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("sockjs-client")):"function"==typeof define&&define.amd?define(["sockjs-client"],function(n){return e(n)}):t.Stomp=e(t.SockJS)}(this,function(t){"use strict";function e(t,e){var n=new t(e);return n.__stompclient=!0,n}function n(t,e,n){this._webSocket=t,this._protocol=e,this._uri=n,this._client=null,this._callbacks={}}function r(t,e){var n=this._callbacks[t];n&&(delete this._callbacks[t],n(e))}function i(t,e){return t?"string"==typeof t?e(t):"function"==typeof t&&t:e}var o={NOT_CONNECTED:0,CONNECTING:1,CONNECTED:2,DISCONNECTED:3},a=0,s=0,c=0,u=1,h="default",f="10.0",l=5,p=function(t,e){var n=this,o={destination:t,body:e};return n._client.publish(o)},d=function(t,e,n){this._client.subscribe(t,e,n)},m=function(t,e){this._client.unsubscribe(t,e)},g=function(){return this._client.disconnect()},v=function(t,e){this._client.reconnect(t,e)},w=function(){this._client.disconnect()};return n.prototype={connect:function(t,e){var n=this;this._client=t,this._callbacks.connect=e,this._protocol="ws",this._uri=t,this._client=stomp,connect(()=>{}).then()}}
